
  <div class="container">

    <br>
    <h2>
      <b>Example Rule Sets:</b>
    </h2>
    <br>

    <% rules_set = @rules[0..@rules.length-2] %>
    <% rule_tmp = @rules[@rules.length-1] %>

    <table class="table">
      <thead>
        <th>Rule Number</th>
        <th>Triplets that Fill a Cell</th>
        <th>Wrap Around</th>
        <th> </th>
      </thead>

      <tbody>
        <% rules_set.each do |rule| %>
          <% triplets = [] %>
          <% rule_json = rule.as_json%>
          <% rules_for_ones = rule_json.select {|key,value| value == 1} %>
          <% keys = rules_for_ones.keys %>
          <% keys.each do |key| %>
            <%  triplets.push( key.slice(1,3) ) %>
          <% end %>
          <tr>
            <td>
              <h3><%= rule.name %></h3>
            </td>
            <td>
              <h3><%= triplets.sort.join(', ') %></h3>
            </td>
            <td>
              <h3><%= check_box_tag('return_one','yes', true, {"width": "50px", "height": "50px"})  %></h3>
            </td>
            <td>
              <h3><%= link_to "Run", one_dim_rule_path(rule), class: "btn btn-primary" %></h3>
            </td>
          </tr>
        <% end %>
      </tbody>

    </table>

  </div>


  <br><br>

    <div class="container">

      <h2>
        <b>Create Your Own Rule Set:</b>
      </h2>
      <br>

      <table class="table">
        <thead>
          <th>Triplet</th>
          <th>Fill a Cell</th>
        </thead>

        <tbody >

          <% triplet_strings = [] %>
          <% rule_json = rule_tmp.as_json%>
          <% triplets = rule_json.select {|key,value| value ==0 || value == 1} %>
          <% keys = triplets.keys %>
          <% keys.each do |key| %>
            <%  triplet_strings.push( key.slice(1,3) ) %>
          <% end %>

          <%= form_for rule_tmp do |f| %>

            <% triplet_strings.each do |triplet| %>
              <tr>
                <td>
                  <h3><%= triplet %></h3>
                </td>
                <td>
                  <%= f.check_box(("t"+triplet).to_sym, {"width": "50px", "height": "50px"}) %>
                </td>
              </tr>
            <% end %>

            <tr>
              <td>
              </td>
              <td>
                <div>
                  <!-- <h3>< % = link_to "Run", class: "btn btn-primary" %></h3> -->
                  <%= submit_tag "Run" %>
                </div>
              </td>
            </tr>

          <% end %>

        </tbody>

      </table>

    </div>
