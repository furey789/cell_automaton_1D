
<div class="container">

  <%= form_for @rule do |f| %>

    <section>

      <div style= "text-align: right">
        <%= link_to "Back", root_path, class: "btn btn-primary btn-lg" %>
      </div>

      <h2>Create and Run Your Own Model:</h2>

      <% triplets = @rule.as_json.select {|key| key[0] == 't'} %>
      <div class="row">
        <div class="col-md-4" style="font-size: 18pt">
          Triplets that Fill a Cell:
        </div>
        <% triplets.keys.each do |key|%>
          <div class="col-md-1" style="font-size: 18pt; padding: 0">
            <%= f.label key.slice(1,3) %>
            <%= f.check_box(key.to_sym) %>
          </div>
        <% end %>
      </div>

      <div class="row">
        <div class="col-md-4" style="font-size: 18pt">
          Initial Number of Filled Cells:
        </div>
        <div class="col-md-8" style="font-size: 18pt; padding: 0">
          <% (1..10).each do |val|  %>
            <div class="col-md-1" style="font-size: 18pt; padding: 0">
              <%= f.label :seed_number, val %>
              <%= f.radio_button :seed_number, val%>
            </div>
          <% end %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4" style="font-size: 18pt">
          Initial Location of Filled Cells:
        </div>
        <div class="col-md-8" style="font-size: 18pt; padding: 0">
          <div class="col-md-3" style="font-size: 18pt; padding: 0">
          <%= f.label :seed_state, "Centered" %>
          <%= f.radio_button :seed_state, "Centered"%>
          </div>
          <div class="col-md-3" style="font-size: 18pt; padding: 0">
          <%= f.label :seed_state, "Random" %>
          <%= f.radio_button :seed_state, "Random"%>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4" style="font-size: 18pt">
          Include Wrap-around?:
        </div>
        <div class="col-md-8" style="font-size: 18pt; padding: 0">
          <div class="col-md-3" style="font-size: 18pt; padding: 0">
          <%= f.label :wrap_around, "Yes" %>
          <%= f.radio_button :wrap_around, true%>
          </div>
          <div class="col-md-3" style="font-size: 18pt; padding: 0">
          <%= f.label :wrap_around, "No" %>
          <%= f.radio_button :wrap_around, false%>
          </div>
        </div>
      </div>

    </section>

    <div style="text-align: center; margin-bottom: 20px">
      <%= f.submit "Run", class: "btn btn-primary btn-lg" %>
    </div>

  <% end %>


  <table>

    <%  @arr_master.each do |row| %>

      <tr style = "background-color: '#FAFAFA'; width: 15px; height: 15px" >

        <% row.each_index do |id| %>

          <% num=row[id] %>

          <% if num == 0 %>
            <% color = '#FAFAFA' %>
          <% else %>
            <% color = '#000000' %>
          <% end %>

          <td bgcolor=<%= color %> width=15px height=15px border-bottom= thin solid>
          </td>

        <% end %>

      </tr>

    <% end %>

  </table>

</div>
